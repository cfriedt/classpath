2005-01-15  Tom Tromey  <tromey@redhat.com>

	* javax/imageo/metadata: Merged from trunk.

2005-01-13  Andrew John Hughes  <gnu_andrew@member.fsf.org>

	* java/util/Arrays.java:
	(sort(T[],int,int,Comparator<? super T>)): Typed
	Object[] to T[]
	* java/util/Collections.java;
	(compare(T,T,<? super T>)): typed generically
	(binarySearch(List<? extends T>,T,Comparator<? super T>)):
	re-typed and added casts to List<T>
	(rotate(List<? super Object>, int)): added (incorrect?)
	super type to compile
	(shuffle(List<? super Object>): likewise
	(shuffle(List<? super Object, Random)): likewise
	(entrySet()): singleton version changed for accuracy
	(swap(List<? super Object>,int,int)): added (incorrect?)
	super type to compile
	(entrySet()): unmodifiable version removed invalid
	static typing of K and V
	* java/util/HashMap.java:
	(entries): re-typed to Set<Map.Entry<K,V>>
	(putAll(Map<? extends K, ? extends V>)): cast and foreach
	statement added
	(putAllInternal(Map<? extends K, ? extends V>)): likewise
	* java/util/Hashtable.java:
	same as for HashMap
	* java/util/LinkedHashEntry.java:
	(pred,succ): generically typed
	(LinkedHashEntry(K,V)): likewise
	(cleanup()): likewise
	(get(Object)): likewise
	(addEntry(K,V,int,boolean)): likewise
	* java/util/LinkedList.java:
	changed incorrect cast
	(LinkedListItr<I>): re-typed to unique I from T
	* java/util/TreeSet.java:
	cast set to SortedSet<T> before using

2005-01-12  Andrew John Hughes  <gnu_andrew@member.fsf.org>

	* java/util/Collections.java
	all occurences of
	(toArray(E[] a)): fixed parameteric type to be different
	from collection type
	(entrySet()): immutable version retyped to return Map.Entry<K,V>
	* java/util/TreeMap.java
	Completion of generic typing for all methods and variables
	(entries, comparator): generically typed
	(TreeMap(Comparator<? super K>): likewise
	(TreeMap(Map <? extends K, ? extends V>): likewise
	(TreeMap(SortedMap<K, ? extends V> sm): likewise
	(comparator()): likewise
	(containsKey(Object)): cast to K for getKey()
	(entrySet()): generically typed
	(get(Object)): cast to K for getKey()
	(keySet()): generically typed
	(put(K,V)): likewise
	(putAll(Map<? extends K, ? extends V>)): likewise
	(remove(Object)): removed invalid generic typing
	(values()): generically typed
	(deleteFixup(Node<K,V>, Node<K,V>)): likewise
	(highestLessThan(K)): likewise
	(insertFixup(Node<K,V>)): likewise
	(lastNode()): likewise
	(lowestGreatThan(K, boolean): likewise
	(predecessor(Node<K,V>)): likewise
	(putKeysLinear(Iterator<K>, int)): likewise and doc
	correction
	(removeNode(Node<K,V>)): generically typed
	(rotateLeft(Node<K,V>)): likewise
	(rotateRight(Node<K,V>)): likewise
	(sucessor(Node<K,V>)): likewise
	(SubMap): generically typed with SK and SV
	

2005-01-12  Andrew John Hughes  <gnu_andrew@member.fsf.org>

	* java/util/EnumMap.java
	Corrected comment for accuracy.
	* java/util/EnumSet.java
	Corrected indenting.
	* java/util/Hashtable.java
	Corrected bracketing of author.

2005-01-11  Tom Tromey  <tromey@redhat.com>

	* java/util/AbstractList.java (set, add): Fixed argument types.
	* java/util/ArrayList.java: Properly handle generic arrays.
	* java/util/Arrays.java (sort): Fixed type of temporary 'elem'.
	* java/util/BitSet.java (containsAll): Use correct variable name.
	* java/util/Collections.java (copy): Use correct
	parameterizations.
	(min): Likewise.
	(putAll): Likewise.
	(compare): Fixed argument types.
	(sort): Properly handle generic arrays.
	* java/util/EnumSet.java (clone): Ignore
	CloneNotSupportedException.
	(addAll, contains, containsAll, remove, removeAll, retainAll,
	copyOf, complementOf): Don't use generic instanceof.
	(copyOf): Cast result of 'clone'.
	* java/util/HashMap.java (HashMap): Properly handle generic
	arrays.
	(clone): Likewise.
	(rehash): Likewise.
	(readObject): Likewise.
	(putAll): Don't use generic instanceof.
	(getEntry): Likewise.
	(putAllInternal): Use correct parameterizations.
	(next): Fixed return type.
	* java/util/Hashtable.java (Hashtable): Properly handle generic
	arrays.
	(clone): Likewise.
	(rehash): Likewise.
	(readObject): Likewise.
	(hash): Fixed argument type.
	(getEntry): Don't use generic instanceof.
	(next): Cast return values.
	(nextElement): Fixed return type.
	* java/util/LinkedList.java (toArray): Added cast.
	(LinkedListItr): Now generic.
	* java/util/TreeMap.java (TreeMap): Now generic.
	(Node): Likewise.
	(left, right, parent): Updated types.
	(firstKey, get, headMap, lastKey, remove, subMap, tailMap,
	firstNode, getNode): Updated types.
	* java/util/TreeSet.java (TreeSet): Fixed cast.
	(clone): Likewise.
	(readObject): Likewise.
	* java/util/Vector.java (Vector): Properly handle generic arrays.
	(trimToSize): Likewise.
	(ensureCapacity): Likewise.
	(toArray): Likewise.
	(addAll): Fixed parameterization.
	* java/util/WeakHashMap.java (WeakBucket): Now generic.
	(value, next): Updated types.
	(WeakEntry): Parameterized superinterface.
	(key, getKey, getValue, setValue): Updated types.
	(getEntry): Fixed type of local 'key'.
	(get): Updated.
	(put): Fixed return type.
	(remove): Updated.

2005-01-11  Tom Tromey  <tromey@redhat.com>

	* .classpath: Updated for Eclipse 3.1.
	* .settings/org.eclipse.jdt.core.prefs: New file.
	* .settings/org.eclipse.jdt.ui.prefs: New file.

2005-01-10  Andrew John Hughes  <gnu_andrew@member.fsf.org>

	* java/util/AbstractMap.java:
	(putAll(Map<? extends K, ? extends V>)): added cast to
	Map<K,V>
	* java/util/EnumMap.java:
	Corrected instanceof tests, generic array creation,
	use of Enum.getDeclaringClass() and wrong typing
	of iterator methods
	(clone()): re-written to use the EnumMap(EnumMap)
	constructor
	
2005-01-10  Andrew John Hughes  <gnu_andrew@member.fsf.org>

	* java/awt/AWTKeyStroke.java:
	Typed static cache and vktable generically
	(removeEldestEntry(Map.Entry<AWTKeyStroke,AWTKeyStroke>)):
	typed generically
	(registerSubclass(Class<?>)): typed generically
	(readResolve()): removed unnecessary cast
	(setFocusTraversalKeys(int, Set<? extends AWTKeyStroke>)):
	typed generically
	* java/awt/Container.java:
	(setFocusTraversalKeys(int, Set<? extends AWTKeyStroke>)):
	typed generically
	(getFocusTraversalKeys(int)): typed generically
	* java/awt/GridBagLayout.java:
	comptable, internalcomptable now generically typed
	(GridBagLayout()): generic typing
	(sortBySpan(Component,int,ArrayList<Component>,boolean)):
	typed generically
	* java/awt/KeyboardFocusManager.java:
	(getDefaultFocusTraversalKeys(int)): typed generically
	* java/awt/dnd/DragGestureRecognizer.java:
	typed events generically
	* java/awt/dnd/DropTargetContext.java:
	removed unnecessary import and added serialization UID
	* java/awt/im/InputContext.java:
	typed descriptors and recent generically
	* java/awt/im/spi/InputMethodContext.java:
	removed unnecessary import
	* java/io/DeleteFileHelper.java:
	filesToDelete typed generically
	(add(java.io.File)): typed generically
	(deleteFiles()): iteration changed to foreach
	* java/io/ObjectInputStream.java:
	typed objectLookupTable, validators, classLookupTable, oscs
	generically
	(resolveProxyClass(String[]): typed generically
	* java/io/ObjectOutputStream.java:
	removed unnecessary import
	typed OIDLookupTable generically
	* java/io/ObjectStreamClass.java:
	typed oscs and classLookupTable generically
	* java/io/ObjectStreamField.java:
	type typed generically
	(getType()): typed generically
	(checkFieldType()): typed generically
	* java/lang/Byte.java:
	(compareTo(Object)): removed as unneeded
	* java/lang/Character.java:
	(compareTo(Object)): removed as unneeded
	* java/lang/Class.java:
	Typing changed from K to T in accordance with docs
	and semantics (is a type, not a key)
	(getEnumConstants()): implemented using reflection
	(isEnum()): implemented using reflection
	* java/lang/Double.java:
	(compareTo(Object)): removed as unneeded
	* java/lang/Float.java:
	(compareTo(Object)): removed as unneeded
	* java/lang/InheritableThreadLocal.java:
	removed invalid static generic typing
	* java/lang/Integer.java:
	(compareTo(Object)): removed as unneeded
	* java/lang/Long.java:
	(compareTo(Object)): removed as unneeded
	* java/lang/Short.java:
	(compareTo(Object)): removed as unneeded
	* java/util/AbstractQueue.java:
	Typing changed from T to E in accordance with docs
	and semantics (is primarily a element)
	* java/util/Collection.java:
	(containsAll(Collection<?> c)): typed generically
	* java/util/EnumMap.java:
	(EnumMap(Class<K>)): removed invalid array creation
	* java/util/LinkedHashMap.java:
	Added generic typing
	(LinkedHashMap(Map<? extends K, ? extends V>)): added
	generics
	(get(Object)): returns V instead of Object
	(removeEldestEntry(Map.Entry<K,V>)): typed generically
	* java/util/PriorityQueue.java:
	removed invalid generic instanceof and generic array
	creation
	(iterator().remove()): added reference to outer class
	* java/util/WeakHashMap.java
	Added generic typing
	(WeakHashMap(Map<? extends K, ? extends V>)): added
	generics
	(get(Object)): returns V instead of Object
	(put(K,V)): generically typed
	(remove(Object)): returns V instead of Object
	(entrySet()): returns generic set
	(keySet()): returns generic set
	(putAll(Map<? extends K, ? extends V>)): generically typed
	(values()): returns generic collection
	
2005-01-07  Andrew John Hughes  <gnu_andrew@member.fsf.org>

	* java/io/PrintStream.java:
	(PrintStream(String, String)): added UnsupportedEncodingException
	(PrintStream(File, String)): added UnsupportedEncodingException
	* java/lang/Deprecated.java:
	Changed import to java.lang.annotation.RetentionPolicy.RUNTIME
	* java/lang/InheritableThreadLocal.java:
	Corrected typo `Locals' to `Local'
	* java/lang/String.java:
	(compareTo(Object)): removed
	* java/lang/annotation/AnnotationTypeMismatchException.java:
	Added import of java.lang.reflect.Method
	* java/lang/annotation/Documentation.java:
	Added import of java.lang.annotation.RetentionPolicy.RUNTIME
	* java/lang/annotation/Inherited.java:
	Added import of java.lang.annotation.RetentionPolicy.RUNTIME
	Added import of java.lang.annotation.ElementType.ANNOTATION_TYPE
	* java/lang/annotation/Retention.java: ditto
	* java/lang/annotation/Target.java: ditto
	* java/lang/reflect/AnnotatedElement.java:
	Added import of java.lang.annotation.Annotation
	* java/util/AbstractCollection.java:
	(toArray(T[])): converted returned type to T[] from Object[]
	* java/util/EnumMap.java:
	Added import of java.io.Serializable
	* java/util/EnumSet.java: ditto
	* java/util/TreeSet.java:
	(TreeSet(SortedMap<T,String> backingMap)): type of input parameter
	corrected.
	* vm/reference/java/lang/VMClass.java:
	(cast(Object, Class<K>)): typed method parameterically
	
2005-01-02  Tom Tromey  <tromey@redhat.com>

	* java/io/PrintStream.java: Implement Appendable.
	(PrintStream(String)): New constructor.
	(PrintStream(String,String)): Likewise.
	(PrintStream(File)): New constructor.
	(PrintStream(File,String)): Likewise.
	(append): New methods.

	* java/lang/System.java (getenv): Added @since.

	* java/lang/System.java (getenv(String)): Rewrote.
	(getenv): New method.
	* vm/reference/java/lang/VMSystem.java (getenv): New methods.
